# –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### 1. **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞** 
–°–æ–∑–¥–∞–Ω–∞ –ø–æ–ª–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ–≥–ª–∞—Å–Ω–æ –¢–ó —Å –º–æ–¥—É–ª—å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π

### 2. **AgentState** (`src/state.py`)
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `TypedDict` –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å LangGraph
- –°–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–ª—è `messages` –∏ `next` —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è–º–∏ —Ç–∏–ø–æ–≤

### 3. **Langfuse Integration** (`src/utils.py`)
- –°–∏–Ω–≥–ª—Ç–æ–Ω `LangfuseManager` –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–º—Ç–∞–º–∏
- –§—É–Ω–∫—Ü–∏—è `get_prompt()` –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–æ–º—Ç–æ–≤
- Fallback –ø—Ä–æ–º—Ç—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –±–µ–∑ Langfuse

### 4. **Legal Tools** (`src/tools/legal_tools.py`)
- –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç `search_legal_code` —Å –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–º `@tool`
- Mock-–ª–æ–≥–∏–∫–∞ —Å–æ–≥–ª–∞—Å–Ω–æ –¢–ó –¥–ª—è –Ω–∞–ª–æ–≥–æ–≤, –∫—É–ø–ª–∏-–ø—Ä–æ–¥–∞–∂–∏ –∏ –¥—Ä—É–≥–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ docstring –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è LLM

### 5. **Legal Expert Node** (`src/nodes/legal_expert.py`)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ GPT-4o –∏ Claude-3.5-Sonnet
- –ü—Ä–∏–≤—è–∑–∫–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ `bind_tools`
- –û–±—Ä–∞–±–æ—Ç–∫–∞ tool calls –∏ –æ—à–∏–±–æ–∫
- –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–º—Ç–æ–≤ –∏–∑ Langfuse

### 6. **Supervisor Node** (`src/nodes/supervisor.py`)
- Structured output —Å `RouteResponse` –º–æ–¥–µ–ª—å—é Pydantic
- –°—Ç—Ä–æ–≥–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è: `"LegalExpert"` –∏–ª–∏ `"FINISH"`
- –ê–Ω–∞–ª–∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π

### 7. **Graph Assembly** (`src/graph.py`)
- –°–æ–∑–¥–∞–Ω–∏–µ `StateGraph` —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ —É–∑–ª–∞–º–∏ –∏ —Ä–µ–±—Ä–∞–º–∏
- –£—Å–ª–æ–≤–Ω–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –æ—Ç supervisor
- –¶–∏–∫–ª: `legal_expert ‚Üí supervisor` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
- –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –Ω–∞ supervisor

### 8. **Testing & Documentation**
- `main.py` —Å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ —Å—Ü–µ–Ω–∞—Ä–∏—è–º–∏ —Å–æ–≥–ª–∞—Å–Ω–æ –¢–ó
- `README.md` —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏
- `env.example` —Å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- `requirements.txt` —Å–æ –≤—Å–µ–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏

## üéØ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –¢–ó

### ‚úÖ –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- **Python 3.11+** - –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è
- **LangGraph + LangChain** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- **Langfuse SDK v2+** - –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω
- **Pydantic v2** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è RouteResponse
- **Type hinting** - –≤–µ–∑–¥–µ –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω
- **PEP8** - —Å–æ–±–ª—é–¥–∞–µ—Ç—Å—è

### ‚úÖ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- **–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è**: Supervisor ‚Üí Legal Expert ‚Üí Supervisor ‚Üí FINISH
- **–ü—Ä–æ–º—Ç—ã –∏–∑ Langfuse**: –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Å fallback
- **–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã**: Mock —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ —Å–∏–≥–Ω–∞—Ç—É—Ä–∞–º–∏
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**: Graceful handling –±–µ–∑ –ø–∞–¥–µ–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **–¢—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞**: –ì–æ—Ç–æ–≤–∞ –¥–ª—è Langfuse

### ‚úÖ –¢–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏:
1. **"–ö–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ñ–æ—Ä–º–∏—Ç—å –ø—Ä–æ–¥–∞–∂—É –æ—Ñ–∏—Å–Ω–æ–π –º–µ–±–µ–ª–∏ —é—Ä–ª–∏—Ü–æ–º?"** 
   ‚Üí Supervisor ‚Üí Legal Expert ‚Üí Tool Call ‚Üí Response ‚Üí Supervisor ‚Üí FINISH

2. **"–ü—Ä–∏–≤–µ—Ç, –∫—Ç–æ —Ç—ã?"** 
   ‚Üí Supervisor ‚Üí FINISH (–±–µ–∑ —é—Ä–∏—Å—Ç–∞)

3. **–ù–∞–ª–æ–≥–æ–≤—ã–µ –≤–æ–ø—Ä–æ—Å—ã** 
   ‚Üí –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª —á–µ—Ä–µ–∑ Legal Expert

## üöÄ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –∑–∞–ø—É—Å–∫—É

–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–º—É —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é:

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: `pip install -r requirements.txt`
2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ API –∫–ª—é—á–∏**: –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `env.example` –≤ `.env` –∏ –¥–æ–±–∞–≤—å—Ç–µ –∫–ª—é—á–∏
3. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç—ã**: `python main.py`

## üìà –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å

–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞ –∫ –¥–æ–±–∞–≤–ª–µ–Ω–∏—é –Ω–æ–≤—ã—Ö –∞–≥–µ–Ω—Ç–æ–≤:
- –ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —É–∑–ª–æ–≤
- –†–∞—Å—à–∏—Ä—è–µ–º–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –≤ Supervisor
- –ù–µ–∑–∞–≤–∏—Å–∏–º—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∞–≥–µ–Ω—Ç–∞
- –ï–¥–∏–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è –≤—Å–µ—Ö —É–∑–ª–æ–≤

MVP –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–º—É –∑–∞–¥–∞–Ω–∏—é –∏ –≥–æ—Ç–æ–≤ –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é! üéâ
